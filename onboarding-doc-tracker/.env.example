# ── Server (local development only) ──
PORT=3005
NODE_ENV=development

# ── AWS ──
AWS_REGION=us-east-1
DYNAMODB_TABLE_PREFIX=onboarding-doc-tracker-tracking
TENANTS_TABLE=onboarding-doc-tenants
EMAIL_BUCKET=onboarding-doc-emails

# ── Encryption ──
# KMS key ARN for encrypting tenant data at rest (required in production)
KMS_KEY_ARN=
# Prefix for Secrets Manager secret names
SECRETS_PREFIX=onboarding-doc-tracker/tenants

# ── Tenant Management API ──
# API key to protect /api/tenants and /trigger endpoints (required in production)
API_KEY=your-api-key

# ── Security ──
# Rate limiting (per IP)
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=60
# CORS — comma-separated origins (use specific origins in production)
CORS_ALLOWED_ORIGINS=*
# Max request body size in bytes (default 1MB)
MAX_REQUEST_BODY_BYTES=1048576
# How long to cache Secrets Manager values in memory (default 5min)
SECRETS_CACHE_TTL_MS=300000

# ── Per-tenant configuration is stored in DynamoDB ──
# Azure client secrets are stored in AWS Secrets Manager, NOT in DynamoDB.
# Register tenants via POST /api/tenants with:
#   - companyName: Human-readable company name
#   - receivingEmail: Email address employees send docs to (unique per tenant)
#   - hrEmail: HR email address to receive notifications
#   - hrUserId: Microsoft Graph user object ID for the HR mailbox (OneDrive owner)
#   - azureTenantId: Azure AD tenant ID
#   - azureClientId: Azure AD application client ID
#   - azureClientSecret: Azure AD client secret (stored in Secrets Manager)
#   - oneDriveRootFolder: Root folder name in HR's OneDrive
#   - sesFromEmail: Verified SES sender address for notifications
